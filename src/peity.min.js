(function(c){c.fn.peity=function(h){var d=c.extend({},c.fn.peity.defaults,h),b=d.radius/2;c(this).bind("change",function(){c(this).siblings("canvas.peity_chart_canvas").remove();var a=document.createElement("canvas");a.setAttribute("width",d.radius);a.setAttribute("height",d.radius);a.setAttribute("class","peity_chart_canvas");var e=c(this);e.before(a);e.hide();var f=e.text().split(d.delimeter);e=parseInt(f[0]);f=parseInt(f[1]);var g=-Math.PI/2,i=e/f*Math.PI*2;a=a.getContext("2d");a.beginPath();a.moveTo(b,
b);a.arc(b,b,b,0,Math.PI*2,false);a.closePath();a.fillStyle=d.colours[0];a.fill();a.beginPath();a.moveTo(b,b);a.arc(b,b,b,g,i+g,false);a.closePath();a.fillStyle=d.colours[1];a.fill();c(this).trigger("chart:changed",[e,f])});c(this).trigger("change");return this};c.fn.peity.defaults={colours:["#FFF4DD","#FF9900"],delimeter:"/",radius:16}})(jQuery);
