(function(c){c.fn.peity=function(i){var d=c.extend({},c.fn.peity.defaults,i),b=d.radius/2,k=function(f){var a=document.createElement("canvas");a.setAttribute("width",d.radius);a.setAttribute("height",d.radius);f.wrapInner("<span />").append(a);var e=c("span",f).hide().text().split(d.delimeter),g=parseInt(e[0]);e=parseInt(e[1]);var h=-Math.PI/2,j=g/e*Math.PI*2;a=a.getContext("2d");a.beginPath();a.moveTo(b,b);a.arc(b,b,b,0,Math.PI*2,false);a.closePath();a.fillStyle=d.colours[0];a.fill();a.beginPath();
a.moveTo(b,b);a.arc(b,b,b,h,j+h,false);a.closePath();a.fillStyle=d.colours[1];a.fill();f.trigger("chart:changed",[g,e])};c(this).each(function(){c(this).change(function(){k(c(this))}).trigger("change")});return this};c.fn.peity.defaults={colours:["#FFF4DD","#FF9900"],delimeter:"/",radius:16}})(jQuery);
